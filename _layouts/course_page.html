<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

{% seo %}
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    {% include head-custom.html %}
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
    <style>
  /* Define base styles */
  :root {
    --base-background-color: #ffffff;
    --base-text-color: #444444;
    --accent-color: #DD4C4F;
    --highlight-color: #D3FFA4;
  }

  body {
    font-family: "AvenirNext-Regular", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    font-size: 15px;
    background-color: var(--base-background-color);
    color: var(--base-text-color);
    line-height: 1.6;
    margin: 0;
    padding: 0;
    font-weight: 300;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

    /* Image and text wrapper */
  .image-text-wrapper {
    display: flex;
    align-items: flex-start;
    margin-bottom: 1.5em;
  }

  .image-text-wrapper img {
    float: left; /* Float the image to the left */
    width: 110px;
    height: auto;
    border-radius: 0%;
    margin-right: 20px; /* Create space between image and text */
  }

  .image-text-wrapper div {
    text-align: justify;
  }

  /* Style for the wrapper to center the content */
  .wrapper {
    max-width: 650px; /* Maintain content width */
    margin: 0 auto;
    padding: 2em 5%;
    background-color: var(--base-background-color);
    text-align: left;
    font-weight: 300;
  }

  /* Ensure text respects new lines and spaces */
  p, li, a, blockquote {
    white-space: pre-wrap; /* Preserves whitespace and respects new lines */
    word-break: break-word; /* Allow words to break at the end of a line */
    margin: 1em 0;
    color: var(--base-text-color);
    text-align: justify; /* Ensure text spans the entire line */

  }

  /* Style links to prevent changes on hover */
  a {
    color: var(--accent-color);
    text-decoration: none;
    font-weight: 300; /* Ensure consistent font weight */
  }

  /* Disable font weight change on hover */
  a:hover {
    color: var(--accent-color); /* Keep link color the same on hover */
    text-decoration: none; /* No underline on hover */
    font-weight: 300; /* Explicitly set the font weight to prevent bolding */
  }

  /* Additional styling for headings */
  h1, h2, h3, h4, h5, h6 {
    font-family: "AvenirNext-Medium", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    margin-top: 1em;
    margin-bottom: 0.5em;
    font-weight: 400;
  }

  /* Style for blockquotes */
  blockquote {
    color: var(--base-text-color);
    border-left: 4px solid var(--accent-color);
    padding-left: 1em;
    margin: 1em 0;
    font-weight: 300; /* Make blockquotes lighter */
  }

  /* Responsive adjustments for all devices */
  @media screen and (max-width: 768px) {
    body {
      font-size: 14px;
    }

    .wrapper {
      padding: 1em 5%;
    }

    h1, h2, h3, h4, h5, h6 {
      margin-top: 0.75em;
      margin-bottom: 0.5em;
    }

    p, li, blockquote {
      margin: 0.75em 0;
    }
  }

  @media screen and (max-width: 480px) {
    body {
      font-size: 13px;
    }

    .wrapper {
      padding: 1em;
    }

    em, i {
      font-weight: 500;
    }

    p, li, blockquote {
      margin: 0.5em 0;
    }
  }

  /* Ensure content is always visible and scrollable */
  html, body {
    overflow-x: hidden;
    width: 100%;
    -webkit-overflow-scrolling: touch;
  }

  /* Improve touch and click targets on mobile */
  a, button {
    min-height: 44px;
    min-width: 44px;
  }

  /* Improve readability on high-DPI screens */
  @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    body {
      -webkit-font-smoothing: subpixel-antialiased;
    }
  }

  /* Add styles for dynamic content */
  .course-content {
    margin-top: 2em;
    color: var(--base-text-color);
  }

  .course-content h1,
  .course-content h2,
  .course-content h3,
  .course-content h4,
  .course-content h5,
  .course-content h6 {
    color: var(--base-text-color);
    font-family: "AvenirNext-Medium", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  }

  .course-content a {
    color: var(--accent-color);
    text-decoration: none;
    font-weight: 300;
  }

  .course-content a:hover {
    color: var(--accent-color);
    text-decoration: none;
    font-weight: 300;
  }

  .course-content p {
    margin: 0.5em 0;
    line-height: 1.5;
  }

  .course-content ul,
  .course-content ol {
    margin: 0.5em 0;
    padding-left: 2em;
  }

  .course-content li {
    margin: 0.2em 0;
    line-height: 1.5;
  }

  .course-content h1,
  .course-content h2,
  .course-content h3,
  .course-content h4 {
    margin-top: 1.5em;
    margin-bottom: 0.5em;
  }

  /* Remove extra whitespace from pre-wrap */
  .course-content p,
  .course-content li {
    white-space: normal;
  }

  /* Add spacing between sections but not within them */
  .course-content h2 + p,
  .course-content h3 + p,
  .course-content h4 + p {
    margin-top: 0.3em;
  }

  /* Adjust blockquote spacing */
  .course-content blockquote {
    margin: 0.5em 0;
    padding: 0.2em 1em;
  }

  .course-content blockquote p {
    margin: 0.3em 0;
  }

  .course-content img {
    max-width: 100%;
    height: auto;
  }

  /* Update header styles for floating */
  .page-header {
    position: fixed;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 650px;
    padding: 1em 0;
    margin: 0 auto;
    z-index: 1000;
    background: rgba(255, 255, 255, 0.9); /* Semi-transparent background */
    backdrop-filter: blur(5px); /* Adds slight blur to content underneath */
    border-bottom: none; /* Remove border */
  }

  /* Remove sidebar-related margin */
  .wrapper {
    margin: 0 auto;
    max-width: 650px;
    padding: 2em 5%;
  }

  /* Remove all sidebar-nav related styles */
  .sidebar-nav {
    display: none;
  }

  /* Code block styles */
  .code-wrapper {
    position: relative;
    margin: 0;
    background-color: #f6f8fa;
    border-radius: 6px;  /* Round the edges */
  }

  pre {
    margin: 1em 0;
    padding: 16px;
    background: none;
    font-size: 85%;
    line-height: 1.45;
    overflow: auto;
    word-wrap: break-word;
    white-space: pre-wrap;
  }

  pre code {
    padding: 0;
    margin: 0;
    border: 0;
    font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;
    font-size: inherit;
    line-height: inherit;
    word-wrap: break-word;
    white-space: pre-wrap;
  }

  /* Smaller copy button with hover and click states */
  .copy-button {
    position: absolute;
    top: 6px;
    right: 6px;
    padding: 4px;
    background: transparent;
    border: none;
    cursor: pointer;
    opacity: 0.6;
    transition: opacity 0.2s;
  }

  .copy-button:hover {
    opacity: 1;
  }

  .copy-button svg {
    width: 14px;
    height: 14px;
    fill: currentColor;
  }

  /* Update the copy button creation in JavaScript */
  contentDiv.querySelectorAll('pre code').forEach((codeBlock, index) => {
    const pre = codeBlock.parentNode;
    
    // Create wrapper
    const wrapper = document.createElement('div');
    wrapper.className = 'code-wrapper';
    
    // Replace pre with wrapper and move pre inside wrapper
    pre.parentNode.replaceChild(wrapper, pre);
    wrapper.appendChild(pre);
    
    // Add copy button with both icons
    const button = document.createElement('button');
    button.className = 'copy-button';
    button.setAttribute('aria-label', 'Copy code');
    button.innerHTML = `
      <svg class="copy-icon" aria-hidden="true" viewBox="0 0 16 16">
        <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path>
        <path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
      </svg>
      <svg class="check-icon" aria-hidden="true" viewBox="0 0 16 16" style="display: none;">
        <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
      </svg>`;
      
    button.onclick = async () => {
      try {
        await navigator.clipboard.writeText(codeBlock.textContent);
        const copyIcon = button.querySelector('.copy-icon');
        const checkIcon = button.querySelector('.check-icon');
        copyIcon.style.display = 'none';
        checkIcon.style.display = 'block';
        setTimeout(() => {
          copyIcon.style.display = 'block';
          checkIcon.style.display = 'none';
        }, 2000);
      } catch (err) {
        console.error('Failed to copy:', err);
      }
    };
    wrapper.appendChild(button);
  });

  /* Remove all other styles */
  .highlight {
    background: none;
    padding: 0;
    margin: 0;
    border: none;
  }
</style>

    <!-- Add MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']],
          processEscapes: true,
          processEnvironments: true
        },
        options: {
          skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
        }
      };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>

    <script>
    async function processGitHubContent(contentDiv) {
      let content = contentDiv.innerHTML;
      
      // Pre-process lecture links
      content = content.replace(
        /\[(.*?)\]\(Lecture(\d+)\.md(#[^)]+)?\)/g,
        (match, text, lectureNum, hash = '') => {
          return `[${text}](/STAT-4830/lectures?n=${lectureNum}${hash})`;
        }
      );
      
      // Pre-process toc.md links
      content = content.replace(
        /\[(.*?)\]\(toc\.md(#[^)]+)?\)/g,
        (match, text, hash = '') => {
          return `[${text}](/STAT-4830/toc.html${hash})`;
        }
      );
      
      // Parse with marked
      contentDiv.innerHTML = marked.parse(content);
      
      // Add IDs to headings
      contentDiv.querySelectorAll('h1, h2, h3, h4').forEach(heading => {
        const id = heading.textContent
          .toLowerCase()
          .replace(/[^\w\s-]/g, '')
          .replace(/\s+/g, '-');
        heading.id = id;
      });

      // Add copy buttons to code blocks
      contentDiv.querySelectorAll('pre code').forEach((codeBlock, index) => {
        const pre = codeBlock.parentNode;
        
        // Create wrapper
        const wrapper = document.createElement('div');
        wrapper.className = 'code-wrapper';
        
        // Replace pre with wrapper and move pre inside wrapper
        pre.parentNode.replaceChild(wrapper, pre);
        wrapper.appendChild(pre);
        
        // Add copy button with both icons
        const button = document.createElement('button');
        button.className = 'copy-button';
        button.setAttribute('aria-label', 'Copy code');
        button.innerHTML = `
          <svg class="copy-icon" aria-hidden="true" viewBox="0 0 16 16">
            <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path>
            <path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
          </svg>
          <svg class="check-icon" aria-hidden="true" viewBox="0 0 16 16" style="display: none;">
            <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
          </svg>`;
          
        button.onclick = async () => {
          try {
            await navigator.clipboard.writeText(codeBlock.textContent);
            const copyIcon = button.querySelector('.copy-icon');
            const checkIcon = button.querySelector('.check-icon');
            copyIcon.style.display = 'none';
            checkIcon.style.display = 'block';
            setTimeout(() => {
              copyIcon.style.display = 'block';
              checkIcon.style.display = 'none';
            }, 2000);
          } catch (err) {
            console.error('Failed to copy:', err);
          }
        };
        wrapper.appendChild(button);
      });
    }
    </script>
  </head>
  <body>
    <div class="wrapper">
      <header class="page-header">
        <div class="title">STAT 4830: Numerical Optimization for Data Science and Machine Learning - <a href="https://damekdavis.com">Damek Davis</a></div>
        <div class="links">
          <a href="/STAT-4830/index.html">Course overview</a> | 
          <a href="/STAT-4830/toc.html">Table of contents</a> | 
          <a href="https://github.com/damek/STAT-4830">View on Github</a>
        </div>
      </header>

      <div class="toc-wrapper" style="margin-top: 2em;">
        <div id="toc"></div>
      </div>

      <div class="content-wrapper" style="margin-top: 8em;">
        {{ content }}
      </div>

      <script>
        // Configure MathJax rendering for all pages
        document.addEventListener('DOMContentLoaded', function() {
          if (window.MathJax) {
            MathJax.typesetPromise();
          }
        });
      </script>
    </div>
    <script src="{{ "/assets/js/scale.fix.js" | relative_url }}"></script>
  </body>
</html>
